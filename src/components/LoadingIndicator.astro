---
---
<div id="loading-indicator" class="loading-indicator">
    <div class="spinner"></div>
  </div>
  
  <style>
    .loading-indicator {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--gray-800);
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
  
    .loading-indicator.show {
      opacity: 1;
    }
  
    .spinner {
      height: 100%;
      width: 0;
      background: var(--accent-regular);
      animation: loading 1s ease-in-out infinite;
    }
  
    @keyframes loading {
      0% { width: 0; }
      50% { width: 60%; }
      100% { width: 100%; }
    }
  </style>
  
  <script>
    document.addEventListener('astro:before-preparation', () => {
      document.querySelector('#loading-indicator')?.classList.add('show');
    });
  
    document.addEventListener('astro:after-preparation', () => {
      document.querySelector('#loading-indicator')?.classList.remove('show');
    });
  </script>